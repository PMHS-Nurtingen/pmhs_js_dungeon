<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript Dungeon</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <ol>
        <li>Deklariere die globalen Variablen <i>score</i> und <i>seconds</i> und initialisiere beide mit 0.</li>
        <li>Füge in der Funktion <i>moveIt</i> Bedingte Anweisungen ein: Wenn <i>seconds</i> größer ist als 30 (Zeit abgeleufen), dann wird das Spiel mit Hilfe der Funktion <a href="https://www.mediaevent.de/javascript/setinterval.html"><code>clearInterval(timer)</code></a>            angehalten und anschließend eine Meldung in einem Alert-Dialog ausgegeben, die den erreichten score enthält.</li>
        <li>Passe die Funktion <i>hit</i> so an, dass der Wert der Variable <i>score</i> um eins erhöht wird (nutze dazu die kürzest mögliche Schreibweise) und anschließend der innerText des <i>countEl</i> diesen Wert erhält.</li>
        <li>Ergänze die Funktion <i>restart</i> und setze die Variablen <i>timer</i>, <i>score</i> und <i>seconds</i> auf ihre Anfangswerte zurück.</li>
        <li>Teste das Spiel!</li>
    </ol>



    <hr>
    <h2>Catch it</h2>
    <p>Versuche die Fledermaus (&#129415) in 30 Sekunden möglichst oft zu fangen. Ein Klick oder Touch genügt.</p>
    <div style="width: 100%;"><span style="border: 1px solid black;">&#129415 : <span id="count">0</span></span> <span style="border: 1px solid black; float: right">&#9201; : <span id="timer">0</span></span>
    </div>
    <div id="field" style="background-color: darkgray; position:relative; width: 100%; height: 500px; border: 1px solid black;">
        <span id="bat" style="position: absolute; transition: all 0.5s; font-size: 3em;" onmousedown="hit()">&#129415</span>
    </div>
    <button onclick="restart()">Neustart</button>
    </div>

    <!-- JavaScript Code -->
    <script id="exerciseScript">
        // *** Füge unter diesem Text deinen Code ein um die Aufgabe zu lösen ***
        const fieldEl = document.getElementById("field")
        const timerEl = document.getElementById("timer")
        const countEl = document.getElementById("count")
        const batEl = document.getElementById("bat")

        //Timer zeigt an wie lange das Spiel schon läuft. setInterval ruft die Funktion moveIt() jede Sekunde auf 
        var timer = setInterval(moveIt, 1000)

        //1. ToDo: globale Variablen score und seconds deklarieren und initialisieren

        function moveIt() {
            seconds++
            timerEl.innerText = seconds

            //Fledermaus anhand der linken oberen Ecke zufällig neu positionieren (98% damit sie nicht komplett aus dem Fenster verschwinden kann)
            batEl.style.left = Math.random() * 98 + "%";
            batEl.style.top = Math.random() * 98 + "%";

            //2. ToDo: Wenn Zeit abgelaufen, dann Spiel anhalten mit clearInterval(timer) und Meldung ausgeben

        }

        function hit(event) {
            //3. ToDo: score um eins erhöhen und score im innerText des countEl ausgeben

        }

        function restart() {
            //4. ToDo: timer, score und seconds auf Anfangswerte zurücksetzen

        }
    </script>

    <!-- ************ Den Code hier drunter nicht bearbeiten! ***************** -->
    <script type="module" src="../js/checks/16_1_verzweigung_catchIt.js"></script>
    <script src="../js/bootstrap.bundle.min.js"></script>
</body>

</html>